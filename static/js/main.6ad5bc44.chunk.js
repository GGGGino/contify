(this.webpackJsonpcontify=this.webpackJsonpcontify||[]).push([[0],{108:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),r=a(19),i=a.n(r),s=(a(87),a(40)),o=a.n(s),l=a(37),j=a(9),d=a(7),u=a(110),b=a(119),h=a(111),m=a(112),x=a(73),O=a(1);function p(){var e=Object(n.useState)(0),t=Object(d.a)(e,2),a=t[0],c=t[1],r=Object(u.a)().t,i=[r("Home.places.dinner"),r("Home.places.lunch"),r("Home.places.events")];return Object(n.useEffect)((function(){var e=setTimeout((function(){console.log("timer"),c((a+1)%i.length)}),2e3);return function(){return clearTimeout(e)}}),[a,i.length]),Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)("div",{className:"position-relative overflow-hidden p-3 p-md-5 mb-3 text-center bg-light",children:Object(O.jsxs)("div",{className:"my-3 py-3",children:[Object(O.jsx)("h1",{className:"display-1",children:"Contify"}),Object(O.jsxs)("p",{className:"lead",children:[Object(O.jsx)(b.a,{i18nKey:"Home.slogan"})," ",i[a]]})]})}),Object(O.jsx)(h.a,{fluid:!0,children:Object(O.jsxs)(m.a,{className:"gx-3",children:[Object(O.jsx)(x.a,{md:6,lg:6,className:"text-center",children:Object(O.jsxs)("div",{className:"bg-light px-3 py-5 position-relative",children:[Object(O.jsx)("h2",{className:"display-5",children:Object(O.jsx)(b.a,{i18nKey:"Home.checkerTitle"})}),Object(O.jsx)("p",{className:"lead",children:Object(O.jsx)(b.a,{i18nKey:"Home.checkerBody"})}),Object(O.jsx)(l.b,{className:"btn btn-outline-secondary stretched-link",to:"/admin-page",children:Object(O.jsx)(b.a,{i18nKey:"Home.goButton"})})]})}),Object(O.jsx)(x.a,{md:6,lg:6,className:"text-white text-center",children:Object(O.jsxs)("div",{className:"bg-dark px-3 py-5 position-relative",children:[Object(O.jsx)("h2",{className:"display-5",children:Object(O.jsx)(b.a,{i18nKey:"Home.userTitle"})}),Object(O.jsx)("p",{className:"lead",children:Object(O.jsx)(b.a,{i18nKey:"Home.userBody"})}),Object(O.jsx)(l.b,{className:"btn btn-outline-secondary stretched-link",to:"/user-page",children:Object(O.jsx)(b.a,{i18nKey:"Home.goButton"})})]})})]})})]})}a(107);var v=a(17),g=a(118),y=a(117),f=a(76),P=a(113),N=a(114),T=a(116);function C(){return Object(O.jsx)(T.a,{bg:"light",expand:"lg",children:Object(O.jsx)(h.a,{children:Object(O.jsx)(T.a.Brand,{href:"/",children:"Contify"})})})}var S=a(26),k=a(27),H=a(50),B=a(48),w=a(62);w.a.WORKER_PATH="contify/qr-scanner-worker.min.js";var z=function(e){Object(H.a)(a,e);var t=Object(B.a)(a);function a(){var e;Object(S.a)(this,a);for(var n=arguments.length,c=new Array(n),r=0;r<n;r++)c[r]=arguments[r];return(e=t.call.apply(t,[this].concat(c))).qrScanner=void 0,e.timerId=void 0,e.wait=void 0,e}return Object(k.a)(a,[{key:"componentDidMount",value:function(){var e=this;setTimeout((function(){var t=document.getElementById("qr-video");e.qrScanner=new w.a(t,(function(t){e.props.onQrcodeScanned(t),e.qrScanner.stop()})),e.qrScanner.start()}),200)}},{key:"componentWillUnmount",value:function(){this.qrScanner&&this.qrScanner.destroy()}},{key:"render",value:function(){return Object(O.jsx)("video",{id:"qr-video"})}},{key:"debounceFn",value:function(e,t){clearTimeout(this.timerId),this.timerId=setTimeout(e,t)}},{key:"debounce",value:function(e,t){var a=this;this.wait||(this.wait=e,setTimeout((function(){console.log("insideTimout"),a.wait(),a.wait=void 0}),t))}}]),a}(n.Component),I=a(2);function G(e,t){e.toPut||(e.toPut=0),e.toPut+=t}var M=[];function F(){var e=Object(n.useState)(M),t=Object(d.a)(e,2),a=t[0],c=t[1],r=Object(n.useState)(M),i=Object(d.a)(r,2),s=i[0],o=i[1],l=Object(n.useState)(!1),j=Object(d.a)(l,2),u=j[0],b=j[1],p=Object(n.useState)(null),T=Object(d.a)(p,2),S=T[0],k=T[1],H=function(){b(!1)},B=s.map((function(e,t){var n=null===e.alreadyPutted?"-":e.alreadyPutted/100,r=null===e.maxToPut?"-":(e.maxToPut/100).toFixed(2),i=e.alreadyPutted-e.toPut,s=e.toPut?i>0?Object(O.jsxs)("span",{className:"text-danger",children:[(i/100*-1).toFixed(2)," \u20ac"]}):Object(O.jsxs)("span",{className:"text-success",children:[(i/100*-1).toFixed(2)," \u20ac"]}):null;return Object(O.jsx)(x.a,{className:"py-3",xs:12,md:4,children:Object(O.jsxs)(g.a,{children:[Object(O.jsxs)(g.a.Header,{className:"card-header d-flex justify-content-between align-items-center",children:[Object(O.jsx)(g.a.Title,{children:e.name}),Object(O.jsx)(g.a.Title,{children:s})]}),Object(O.jsxs)(y.a,{className:"list-group-flush",children:[Object(O.jsxs)(f.a,{children:["Already putted: ",Object(O.jsx)("strong",{children:n})," \u20ac"]}),Object(O.jsxs)(f.a,{children:["Max: ",Object(O.jsx)("strong",{children:r})," \u20ac"]})]}),Object(O.jsxs)(g.a.Body,{children:[Object(O.jsx)(P.a,{variant:"secondary",size:"sm",onClick:function(){return e=t,b(!0),void k(e);var e},children:"Change"}),Object(O.jsx)(P.a,{variant:"danger",size:"sm",onClick:function(){return e=t,a.splice(e,1),o(Object(v.a)(a)),void c(Object(v.a)(a));var e},children:"Remove"})]})]})},t)}));return B.push(Object(O.jsx)(x.a,{className:"py-3",xs:12,md:4,children:Object(O.jsxs)(g.a,{children:[Object(O.jsx)(g.a.Header,{className:"card-header d-flex justify-content-between align-items-center",children:Object(O.jsx)(g.a.Title,{children:"Aggiungi utente"})}),Object(O.jsx)(g.a.Body,{children:Object(O.jsx)(P.a,{variant:"secondary",size:"sm",onClick:function(){b(!0)},children:"Aggiungi"})})]})},"extra")),Object(O.jsxs)("div",{children:[Object(O.jsx)(C,{}),Object(O.jsxs)(h.a,{className:"py-3",children:[Object(O.jsx)(m.a,{children:Object(O.jsx)(x.a,{sm:12,children:Object(O.jsx)(m.a,{children:B})})}),Object(O.jsx)(m.a,{children:Object(O.jsxs)(x.a,{sm:12,children:[Object(O.jsx)(P.a,{variant:"success",size:"sm",onClick:function(){var e=function(e){var t=Object(v.a)(e);t.map((function(e){return e.toPut=0,e}));for(var a=e.reduce((function(e,t){return e+t.alreadyPutted}),0)+.7;a>1;){var n=a/t.length;for(var c in t){var r=Object(I.a)({},t[c]);if(!(r.maxToPut&&r.toPut>=r.maxToPut)){if(r.maxToPut){var i=r.toPut+n-r.maxToPut;r.maxToPut<n?(G(r,r.maxToPut),a-=r.maxToPut):i>0?(G(r,r.maxToPut-r.toPut),a-=r.maxToPut-r.toPut):(G(r,n),a-=n)}else G(r,n),a-=n;t[c]=r}}}for(var s in t)t[s].toPut=Math.round(t[s].toPut);return t}(s);o(e)},children:"Calculate"}),Object(O.jsx)(P.a,{variant:"danger",size:"sm",onClick:function(){o([]),c([])},children:"Erase"})]})})]}),Object(O.jsxs)(N.a,{show:u,onHide:H,children:[Object(O.jsx)(N.a.Header,{closeButton:!0,children:Object(O.jsx)(N.a.Title,{children:"Scan code"})}),Object(O.jsx)(N.a.Body,{children:Object(O.jsx)(z,{onQrcodeScanned:function(e){H();var t=JSON.parse(atob(e));null!==S?a[S]=t:a.push(t),o(Object(v.a)(a)),c(Object(v.a)(a)),k(null)}})})]})]})}var A=a(8),q=a(115);function E(){var e=Object(n.useState)({name:"Gino",alreadyPutted:0,maxToPut:null}),t=Object(d.a)(e,2),a=t[0],c=t[1],r=Object(n.useState)(!1),i=Object(d.a)(r,2),s=i[0],l=i[1],j=s?Object(O.jsx)(o.a,{value:btoa(JSON.stringify(a))}):null,u=function(e){var t=e.target,n=t.id;c(Object(I.a)(Object(I.a)({},a),{},Object(A.a)({},n,Math.trunc(100*parseFloat(t.value)))))};return Object(O.jsxs)("div",{children:[Object(O.jsx)(C,{}),Object(O.jsx)(h.a,{className:"py-3",children:Object(O.jsx)(m.a,{children:Object(O.jsx)(x.a,{children:Object(O.jsxs)(q.a,{children:[Object(O.jsxs)(q.a.Group,{className:"mb-3",controlId:"name",children:[Object(O.jsx)(q.a.Label,{children:"Name"}),Object(O.jsx)(q.a.Control,{type:"text",placeholder:"Name",onChange:function(e){var t=e.target,n=t.id;c(Object(I.a)(Object(I.a)({},a),{},Object(A.a)({},n,t.value)))}}),Object(O.jsx)(q.a.Text,{className:"text-muted",children:"Set your name"})]}),Object(O.jsxs)(q.a.Group,{className:"mb-3",controlId:"alreadyPutted",children:[Object(O.jsx)(q.a.Label,{children:"Already putted"}),Object(O.jsx)(q.a.Control,{type:"number",placeholder:"0",onChange:u})]}),Object(O.jsxs)(q.a.Group,{className:"mb-3",controlId:"maxToPut",children:[Object(O.jsx)(q.a.Label,{children:"Max import"}),Object(O.jsx)(q.a.Control,{type:"number",placeholder:"0",onChange:u})]}),Object(O.jsx)(P.a,{variant:"primary",onClick:function(e){l(!0)},children:"Generate"})]})})})}),Object(O.jsxs)(N.a,{show:s,onHide:function(){l(!1)},children:[Object(O.jsx)(N.a.Header,{closeButton:!0,children:Object(O.jsx)(N.a.Title,{children:"QRCode Generated"})}),Object(O.jsx)(N.a.Body,{children:j})]})]})}var K={name:"Gino",maxImporto:0};function L(){return Object(O.jsx)(l.a,{children:Object(O.jsx)(O.Fragment,{children:Object(O.jsx)("main",{children:Object(O.jsxs)(j.c,{children:[Object(O.jsx)(j.a,{path:"/generate-code",children:Object(O.jsx)(R,{})}),Object(O.jsx)(j.a,{path:"/capture",children:Object(O.jsx)(U,{})}),Object(O.jsx)(j.a,{path:"/user-page",children:Object(O.jsx)(E,{})}),Object(O.jsx)(j.a,{path:"/admin-page",children:Object(O.jsx)(F,{})}),Object(O.jsx)(j.a,{path:"/",children:Object(O.jsx)(p,{})})]})})})})}function R(){var e=btoa(JSON.stringify(K));return Object(O.jsx)(o.a,{value:e})}function U(){return Object(O.jsx)("input",{type:"file",name:"image",accept:"image/*",capture:"environment"})}var J=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,120)).then((function(t){var a=t.getCLS,n=t.getFID,c=t.getFCP,r=t.getLCP,i=t.getTTFB;a(e),n(e),c(e),r(e),i(e)}))},D=a(63),Q=a(22),W=a(80);D.a.use(W.a).use(Q.e).init({debug:!1,fallbackLng:"en",interpolation:{escapeValue:!1},resources:{en:{translation:{Home:{slogan:"Share with others the cost of your",checkerTitle:"Checker",checkerBody:"Handle the process of organizing the users and the prize they have to put in.",userTitle:"User",userBody:"Use this to only set your personal and economical information.",goButton:"Go",places:{dinner:"Dinner",lunch:"Lunch",events:"Events"}},User:{name:"Name",namePlaceholder:"Write your name",nameHelper:"Set your name",alreadyPutted:"Already putted",maxImport:"Max import",generate:"Generate"},Manager:{addSlave:"Add user",erase:"Erase",alreadyPutted:"Already putted",maxImport:"Max import",change:"Change",remove:"Remove",calculate:"Calculate"}}},it:{translation:{Home:{slogan:"Condividi con altri il prezzo di",checkerTitle:"Organizzatore",checkerBody:"Gestisci gli utenti ed le loro configurazioni",userTitle:"Utente",userBody:"Configura le tue impostazioni",goButton:"Vai",places:{dinner:"cene",lunch:"pranzi",events:"eventi"}},User:{name:"Nome",namePlaceholder:"Scrivi il tuo nome",nameHelper:"Setta il tuo nome",alreadyPutted:"Gi\xe0 pagato",maxImport:"Massimo importo",generate:"Genera"},Manager:{addSlave:"Aggiungi utente",erase:"Elimina utenti",alreadyPutted:"Gi\xe0 pagato",maxImport:"Massimo importo",change:"Cambia",remove:"Rimuovi",calculate:"Calcola"}}}}});D.a;i.a.render(Object(O.jsx)(c.a.StrictMode,{children:Object(O.jsx)(L,{})}),document.getElementById("root")),J()},87:function(e,t,a){}},[[108,1,2]]]);
//# sourceMappingURL=main.6ad5bc44.chunk.js.map